[{"C:\\Users\\davi\\Documents\\Treino_AJ\\React_exercicio\\exercicio\\src\\index.js":"1","C:\\Users\\davi\\Documents\\Treino_AJ\\React_exercicio\\exercicio\\src\\app\\App.jsx":"2","C:\\Users\\davi\\Documents\\Treino_AJ\\React_exercicio\\exercicio\\src\\components\\form\\Form.jsx":"3","C:\\Users\\davi\\Documents\\Treino_AJ\\React_exercicio\\exercicio\\src\\components\\table\\Table.jsx":"4","C:\\Users\\davi\\Documents\\Treino_AJ\\React_exercicio\\exercicio\\src\\components\\totalizador\\totalizador.jsx":"5","C:\\Users\\davi\\Documents\\Treino_AJ\\React_exercicio\\exercicio\\src\\API\\http.js":"6","C:\\Users\\davi\\Documents\\Treino_AJ\\React_exercicio\\exercicio\\src\\components\\editar\\Editar.jsx":"7","C:\\Users\\davi\\Documents\\Treino_AJ\\React_exercicio\\exercicio\\src\\components\\loadingBarrer\\Loading.jsx":"8","C:\\Users\\davi\\Documents\\Treino_AJ\\React_exercicio\\exercicio\\src\\validacoes.js":"9"},{"size":183,"mtime":1610033877774,"results":"10","hashOfConfig":"11"},{"size":4848,"mtime":1610330024749,"results":"12","hashOfConfig":"11"},{"size":1873,"mtime":1610372448676,"results":"13","hashOfConfig":"11"},{"size":2021,"mtime":1610325463821,"results":"14","hashOfConfig":"11"},{"size":354,"mtime":1610133376636,"results":"15","hashOfConfig":"11"},{"size":1224,"mtime":1610033877763,"results":"16","hashOfConfig":"11"},{"size":3206,"mtime":1610372287544,"results":"17","hashOfConfig":"11"},{"size":278,"mtime":1610052642617,"results":"18","hashOfConfig":"11"},{"size":1283,"mtime":1610372331835,"results":"19","hashOfConfig":"11"},{"filePath":"20","messages":"21","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"22"},"1l6glbw",{"filePath":"23","messages":"24","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"25","usedDeprecatedRules":"22"},{"filePath":"26","messages":"27","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"28","messages":"29","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"22"},{"filePath":"30","messages":"31","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"22"},{"filePath":"32","messages":"33","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"22"},{"filePath":"34","messages":"35","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"36","messages":"37","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"22"},{"filePath":"38","messages":"39","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"C:\\Users\\davi\\Documents\\Treino_AJ\\React_exercicio\\exercicio\\src\\index.js",[],["40","41"],"C:\\Users\\davi\\Documents\\Treino_AJ\\React_exercicio\\exercicio\\src\\app\\App.jsx",["42"],"import './App.css';\r\nimport React, { Component } from 'react';\r\nimport {getAllUsers, createUser, getUser, updateUser, deleteUser } from '../API/http'\r\n\r\nimport Form from '../components/form/Form'\r\nimport Table from '../components/table/Table'\r\nimport Editar from '../components/editar/Editar'\r\nimport Loading from '../components/loadingBarrer/Loading'\r\n\r\nclass App extends Component {\r\n\r\n  state = {\r\n    users: [],\r\n    user: {},\r\n    formData: {},\r\n    activeLoading: false,\r\n    activeLoadingModal: false,\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.iniciaComOsDados();\r\n  }\r\n\r\n  hadleFormData(data) {\r\n    this.setState({ formData: { ...this.state.formData, [data.name]: data.value }})\r\n  } \r\n\r\n iniciaComOsDados = () => {\r\n    return new Promise( async (resolve, reject) => {\r\n      try {\r\n        const users = await getAllUsers();\r\n        this.setState({ users });\r\n        resolve();\r\n      }\r\n\r\n      catch (error) {\r\n        // handle error\r\n        alert('Ocorreu um erro ao processar as informações');\r\n        reject(error)\r\n      }\r\n\r\n      finally {\r\n        // always executed    \r\n      }\r\n    })\r\n  }\r\n\r\n  handleGetUser = async (userId, setAttribute) => {\r\n    return new Promise( (resolve, reject) => {\r\n      this.setState({ \r\n        user: { },\r\n        activeLoadingModal: true,\r\n      }, async () => {\r\n        try {\r\n          // handle success\r\n          const data = await getUser(userId);\r\n          const { id, name, email, obs } = data;\r\n          this.setState({ user: { id, name, email, obs } });\r\n          resolve();\r\n        }\r\n        catch(err) {\r\n          // handle error\r\n          reject(err);\r\n          alert('Ocorreu um erro ao processar as informações');\r\n        }\r\n        finally {\r\n          this.setState({ activeLoadingModal: false })\r\n          setAttribute(false)\r\n        }\r\n      })\r\n    })\r\n  }\r\n\r\n  handleEditUser = data =>\r\n    this.setState({ user: { ...this.state.user, ...data } });\r\n\r\n  enviaDado = (setAttribute, $value_inputs) => {\r\n    return new Promise( async (resolve, reject) => { \r\n      this.setState({ activeLoading: true })\r\n      const payload = {...this.state.formData}\r\n      createUser(payload)\r\n      .then(() =>\r\n        this.iniciaComOsDados()\r\n        .then(() => {\r\n          alert(\"Usuário inserido com sucesso!\")\r\n        })\r\n        .finally(() => {\r\n          this.setState({ activeLoading: false })\r\n          \r\n        })\r\n      )  \r\n      .catch((error) => {\r\n        if(error.status === 404)\r\n          alert('Código não localizado') \r\n        else if (error.response && error.response.data && error.response.data.message)\r\n          alert(error.response.data.message) \r\n        else\r\n          alert('Ocorreu um erro ao processar as informações')\r\n      })\r\n      .finally(() => {\r\n        this.setState({ activeLoading: false })\r\n        setAttribute(false)\r\n        for( let elem of $value_inputs) elem.value = '';\r\n      })\r\n    })\r\n  }\r\n\r\n  atualizaDado = (state) => {\r\n    return new Promise( async (resolve, reject) => {\r\n      this.setState({ activeLoadingModal: true })\r\n      const payload = { ...state }\r\n\r\n      const id = this.state.user.id \r\n\r\n      updateUser(id, payload)\r\n      .then((data) => {\r\n        this.iniciaComOsDados()\r\n        .then(() => alert(data.message))\r\n        .finally(() => {\r\n          this.setState({ activeLoadingModal: false })\r\n          window.instance.close()\r\n        })\r\n      \r\n      })\r\n\r\n      .catch(error => { \r\n        this.setState({ activeLoadingModal: false })\r\n        alert(error)\r\n      })\r\n      .finally(() => {\r\n        // always executed \r\n\r\n      });\r\n    })\r\n    }\r\n\r\n  deletaDado = (id, setAttribute) => {\r\n    return new Promise( async (resolve, reject) => {\r\n      this.setState({ activeLoading: true })\r\n      deleteUser(id)\r\n      .then(() => {\r\n        this.iniciaComOsDados()\r\n        .then(() =>  alert(\"Usuário deletado com sucesso\"))\r\n        .finally(() => {\r\n          this.setState({ activeLoading: false })\r\n          setAttribute(false)\r\n      })    \r\n\r\n      })\r\n      .catch((error) => {\r\n        setAttribute(false)\r\n        this.setState({ activeLoadingModal: false })\r\n        alert(error)\r\n      \r\n      }) \r\n      .finally(() => {\r\n    \r\n      })\r\n    })\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"DataTable\">\r\n        <Form\r\n          onChangeData={this.hadleFormData.bind(this)}\r\n          onEnviarDados={this.enviaDado}\r\n        />\r\n        <Loading\r\n          isActive={this.state.activeLoading}\r\n         />\r\n        <Table\r\n          dados={this.state.users}\r\n          ondeletaDado={this.deletaDado}\r\n          onGetUser={this.handleGetUser}\r\n          usuario={this.state.user}\r\n          onAtualizaDado={this.atualizaDado}\r\n          isActive={this.state.activeLoadingModal}\r\n        />\r\n\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default App","C:\\Users\\davi\\Documents\\Treino_AJ\\React_exercicio\\exercicio\\src\\components\\form\\Form.jsx",[],"C:\\Users\\davi\\Documents\\Treino_AJ\\React_exercicio\\exercicio\\src\\components\\table\\Table.jsx",[],"C:\\Users\\davi\\Documents\\Treino_AJ\\React_exercicio\\exercicio\\src\\components\\totalizador\\totalizador.jsx",[],"C:\\Users\\davi\\Documents\\Treino_AJ\\React_exercicio\\exercicio\\src\\API\\http.js",[],"C:\\Users\\davi\\Documents\\Treino_AJ\\React_exercicio\\exercicio\\src\\components\\editar\\Editar.jsx",["43","44","45","46","47"],"C:\\Users\\davi\\Documents\\Treino_AJ\\React_exercicio\\exercicio\\src\\components\\loadingBarrer\\Loading.jsx",[],"C:\\Users\\davi\\Documents\\Treino_AJ\\React_exercicio\\exercicio\\src\\validacoes.js",[],{"ruleId":"48","replacedBy":"49"},{"ruleId":"50","replacedBy":"51"},{"ruleId":"52","severity":1,"message":"53","line":7,"column":8,"nodeType":"54","messageId":"55","endLine":7,"endColumn":14},{"ruleId":"52","severity":1,"message":"56","line":2,"column":10,"nodeType":"54","messageId":"55","endLine":2,"endColumn":21},{"ruleId":"52","severity":1,"message":"57","line":2,"column":23,"nodeType":"54","messageId":"55","endLine":2,"endColumn":33},{"ruleId":"52","severity":1,"message":"58","line":2,"column":35,"nodeType":"54","messageId":"55","endLine":2,"endColumn":42},{"ruleId":"52","severity":1,"message":"59","line":2,"column":44,"nodeType":"54","messageId":"55","endLine":2,"endColumn":54},{"ruleId":"52","severity":1,"message":"60","line":2,"column":56,"nodeType":"54","messageId":"55","endLine":2,"endColumn":66},"no-native-reassign",["61"],"no-negated-in-lhs",["62"],"no-unused-vars","'Editar' is defined but never used.","Identifier","unusedVar","'getAllUsers' is defined but never used.","'createUser' is defined but never used.","'getUser' is defined but never used.","'updateUser' is defined but never used.","'deleteUser' is defined but never used.","no-global-assign","no-unsafe-negation"]